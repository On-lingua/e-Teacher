/*
 * jQuery FlexSlider v1.5
 * http://flex.madebymufffin.com
 *
 * Copyright 2011, Tyler Smith
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * TouchWipe gesture credits: http://www.netcu.de/jquery-touchwipe-iphone-ipad-library
 */(function(e){e.fn.extend({flexslider:function(t){function c(e){if(!u){u=!0;if(t.animation.toLowerCase()=="slide")a==0&&e==o-1?i.animate({marginLeft:"0px"},t.animationDuration,function(){i.css({marginLeft:-1*o*s.filter(":first").width()+"px"});u=!1;a=e}):a==o-1&&e==0?i.animate({marginLeft:-1*(o+1)*s.filter(":first").width()+"px"},t.animationDuration,function(){i.css({marginLeft:-1*s.filter(":first").width()+"px"});u=!1;a=e}):i.animate({marginLeft:-1*(e+1)*s.filter(":first").width()+"px"},t.animationDuration,function(){u=!1;a=e});else if(t.animation.toLowerCase()=="show"){s.eq(a).hide();s.eq(e).show();u=!1;a=e}else{r.css({minHeight:s.eq(a).height()});s.eq(a).fadeOut(t.animationDuration,function(){s.eq(e).fadeIn(t.animationDuration,function(){u=!1;a=e});r.css({minHeight:"inherit"})})}}}var n={animation:"fade",slideshow:!0,slideshowSpeed:7e3,animationDuration:500,directionNav:!0,controlNav:!0,keyboardNav:!0,touchSwipe:!0,prevText:"Previous",nextText:"",randomize:!1,slideToStart:0,pauseOnAction:!0,pauseOnHover:!1,controlsContainer:"",manualControls:""},t=e.extend(n,t),r=this,i=e(".slides",r),s=e(".slides li",r),o=s.length,u=!1,a=t.slideToStart,f="ontouchstart"in document.documentElement?"touchstart":"click";if(t.randomize&&o>1){s.sort(function(){return Math.round(Math.random())-.5});i.empty().append(s)}if(t.animation.toLowerCase()=="slide"&&o>1){r.css({overflow:"hidden"});i.append(s.filter(":first").clone().addClass("clone")).prepend(s.filter(":last").clone().addClass("clone"));i.width((o+2)*r.width()+2e3);var l=e(".slides li",r);setTimeout(function(){l.width(r.width()).css({"float":"left"}).show()},100);i.css({marginLeft:-1*(a+1)*r.width()+"px"})}else s.hide().eq(a).fadeIn(400);if(t.controlNav&&o>1){if(t.manualControls!=""&&e(t.manualControls).length>0)var h=e(t.manualControls);else{var h=e('<ol class="flex-control-nav"></ol>'),p=1;for(var d=0;d<o;d++){h.append("<li><a>"+p+"</a></li>");p++}t.controlsContainer!=""&&e(t.controlsContainer).length>0?e(t.controlsContainer).append(h):r.append(h);h=e(".flex-control-nav li a")}h.eq(a).addClass("active");h.bind(f,function(n){n.preventDefault();if(e(this).hasClass("active")||u)return;h.removeClass("active");e(this).addClass("active");var r=h.index(e(this));c(r);t.pauseOnAction&&clearInterval(v)})}if(t.directionNav&&o>1){t.controlsContainer!=""&&e(t.controlsContainer).length>0?e(t.controlsContainer).append(e('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+t.prevText+'</a></li><li><a class="next" href="#">'+t.nextText+"</a></li></ul>")):r.append(e('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+t.prevText+'</a></li><li><a class="next" href="#">'+t.nextText+"</a></li></ul>"));e(".flex-direction-nav li a").bind(f,function(n){n.preventDefault();if(u)return;if(e(this).hasClass("next"))var r=a==o-1?0:a+1;else var r=a==0?o-1:a-1;if(t.controlNav){h.removeClass("active");h.eq(r).addClass("active")}c(r);t.pauseOnAction&&clearInterval(v)})}t.keyboardNav&&o>1&&e(document).keyup(function(e){if(u)return;if(e.keyCode!=39&&e.keyCode!=37)return;if(e.keyCode==39)var n=a==o-1?0:a+1;else if(e.keyCode==37)var n=a==0?o-1:a-1;if(t.controlNav){h.removeClass("active");h.eq(n).addClass("active")}c(n);t.pauseOnAction&&clearInterval(v)});if(t.slideshow&&o>1){var v;function m(){if(u)return;var e=a==o-1?0:a+1;if(t.controlNav){h.removeClass("active");h.eq(e).addClass("active")}c(e)}t.pauseOnHover&&r.hover(function(){clearInterval(v)},function(){v=setInterval(m,t.slideshowSpeed)});o>1&&(v=setInterval(m,t.slideshowSpeed))}t.touchSwipe&&"ontouchstart"in document.documentElement&&o>1&&r.each(function(){function r(){this.removeEventListener("touchmove",i);e=null;isMoving=!1}function i(i){if(isMoving){var s=i.touches[0].pageX,u=e-s;if(Math.abs(u)>=n){r();if(u>0)var f=a==o-1?0:a+1;else var f=a==0?o-1:a-1;if(t.controlNav){h.removeClass("active");h.eq(f).addClass("active")}c(f);t.pauseOnAction&&clearInterval(v)}}}function s(t){if(t.touches.length==1){e=t.touches[0].pageX;isMoving=!0;this.addEventListener("touchmove",i,!1)}}var e,n=20;isMoving=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",s,!1)});if(t.animation.toLowerCase()=="slide"&&o>1){var g;e(window).resize(function(){l.width(r.width());i.width((o+2)*r.width()+2e3);clearTimeout(g);g=setTimeout(function(){c(a)},300)})}}})})(jQuery);